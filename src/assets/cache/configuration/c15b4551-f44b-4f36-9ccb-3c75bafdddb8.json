[
    {
        "id": "DMP",
        "title": "Dry matter productivity",
        "description": "Dry Matter Productivity",
        "styles": [
            {
                "name": "default",
                "description": "Default layer style",
                "evalScript": "//VERSION=3\nconst factor = 1 / 100; // EDIT FACTOR\nconst offset = 0; // EDIT OFFSET\n\nfunction setup() {\n  return {\n    // EDIT VARIABLE NAME\n    input: [\"DMP\", \"dataMask\"],\n    output: [\n      { id: \"default\", bands: 4 },\n      { id: \"index\", bands: 1, sampleType: \"FLOAT32\" },\n      { id: \"eobrowserStats\", bands: 2, sampleType: \"FLOAT32\" },\n      { id: \"dataMask\", bands: 1 },\n    ],\n  };\n}\n\nfunction evaluatePixel(samples) {\n  // EDIT VARIABLE NAME\n  var originalValue = samples.DMP;\n\n  let val = originalValue * factor + offset;\n\n  let dataMask = samples.dataMask;\n\n  const indexVal = dataMask === 1 ? val : NaN;\n  const imgVals = visualizer.process(originalValue);\n\n  return {\n    default: imgVals.concat(dataMask),\n    index: [indexVal],\n    eobrowserStats: [val, dataMask],\n    dataMask: [dataMask],\n  };\n}\n\n// EDIT COLOR BAR\nconst ColorBar = [\n  [0, [1, 1, 1]], // White\n  [1, [1, 0, 0, 1]], // Red\n  [3000, [1, 0.647, 0, 1]], // Orange\n  [6000, [1, 0.843, 0, 1]], // Gold\n  [9000, [1, 1, 0, 1]], // Yellow\n  [12000, [0.678, 1, 0.184, 1]], // Green-Yellow\n  [15000, [0.078, 1, 0.078, 1]], // Green\n  [18000, [0.039, 0.784, 0.039, 1]], // Dark Green\n  [21000, [0, 0.533, 0, 1]], // Darker Green\n];\nconst visualizer = new ColorRampVisualizer(ColorBar);\n",
                "legend": {
                    "type": "continuous",
                    "title": "DMP",
                    "gradients": [
                        {
                            "color": "rgb(25500%,25500%,25500%)",
                            "label": 0,
                            "position": 0
                        },
                        {
                            "color": "rgb(25500%,0%,0%)",
                            "label": "",
                            "position": 1
                        },
                        {
                            "color": "rgb(25500%,16500%,0%)",
                            "label": "",
                            "position": 3000
                        },
                        {
                            "color": "rgb(25500%,21500%,0%)",
                            "label": "",
                            "position": 6000
                        },
                        {
                            "color": "rgb(25500%,25500%,0%)",
                            "label": "",
                            "position": 9000
                        },
                        {
                            "color": "rgb(17300%,25500%,4700%)",
                            "label": "",
                            "position": 12000
                        },
                        {
                            "color": "rgb(2000%,25500%,2000%)",
                            "label": "",
                            "position": 15000
                        },
                        {
                            "color": "rgb(1000%,20000%,1000%)",
                            "label": "",
                            "position": 18000
                        },
                        {
                            "color": "rgb(0%,13600%,0%)",
                            "label": 21000,
                            "position": 21000
                        }
                    ],
                    "maxPosition": 21000,
                    "minPosition": 0
                }
            }
        ],
        "orderHint": 0,
        "instanceId": "c15b45-YOUR-INSTANCEID-HERE",
        "lastUpdated": "2025-04-08T13:42:03.298773Z",
        "collectionType": "CUSTOM",
        "datasetSourceId": 10,
        "datasourceDefaults": {
            "mosaickingOrder": "mostRecent",
            "temporal": false,
            "collectionId": "ab5ef5-YOUR-INSTANCEID-HERE",
            "type": "CUSTOM"
        }
    },
    {
        "id": "QFLAG",
        "title": "Quality Flag",
        "description": "Bitwise quality flag",
        "styles": [
            {
                "name": "default",
                "description": "Default layer style",
                "evalScript": "//VERSION=3\nconst factor = 1; // EDIT FACTOR\nconst offset = 0; // EDIT OFFSET\n\nfunction setup() {\n  return {\n    // EDIT VARIABLE NAME\n    input: [\"QFLAG\", \"dataMask\"],\n    output: [\n      { id: \"default\", bands: 4, sampleType: \"UINT8\" },\n      { id: \"index\", bands: 1, sampleType: \"FLOAT32\" },\n      { id: \"eobrowserStats\", bands: 2, sampleType: \"FLOAT32\" },\n      { id: \"dataMask\", bands: 1 },\n    ],\n  };\n}\n\nfunction evaluatePixel(samples) {\n  // EDIT VARIABLE NAME\n  var originalValue = samples.QFLAG;\n\n  let val = originalValue * factor + offset;\n\n  let dataMask = samples.dataMask;\n\n  const indexVal = dataMask === 1 ? val : NaN;\n  const imgVals = getColor(originalValue);\n\n  return {\n    default: imgVals.concat(dataMask * 255),\n    index: [indexVal],\n    eobrowserStats: [val, dataMask],\n    dataMask: [dataMask],\n  };\n}\n\n// LOOKUP TABLE FOR COLOURS, TO BE ADAPTED\nconst exactColorMap = [\n  [1, [255, 0, 0]],\n  [2, [255, 165, 0]],\n  [4, [255, 255, 0]],\n  [8, [0, 128, 0]],\n  [16, [139, 69, 19]],\n  [32, [128, 128, 128]],\n  [64, [0, 0, 255]],\n  [128, [75, 0, 130]],\n];\n\n// Function to fetch color for a given value\nfunction getColor(value) {\n  const entry = exactColorMap.find(([v, _]) => v === Math.floor(value));\n  if (entry) {\n    const [_, color] = entry;\n    return [color[0], color[1], color[2]];\n  } else {\n    return [0, 0, 0];\n  }\n}\n",
                "legend": {
                    "type": "discrete",
                    "items": [
                        {
                            "color": "rgb(100.0%,0.0%,0.0%)",
                            "label": "1"
                        },
                        {
                            "color": "rgb(100.0%,64.71%,0.0%)",
                            "label": "2"
                        },
                        {
                            "color": "rgb(100.0%,100.0%,0.0%)",
                            "label": "4"
                        },
                        {
                            "color": "rgb(0.0%,50.2%,0.0%)",
                            "label": "8"
                        },
                        {
                            "color": "rgb(54.51%,27.06%,7.45%)",
                            "label": "16"
                        },
                        {
                            "color": "rgb(50.2%,50.2%,50.2%)",
                            "label": "32"
                        },
                        {
                            "color": "rgb(0.0%,0.0%,100.0%)",
                            "label": "64"
                        },
                        {
                            "color": "rgb(29.41%,0.0%,50.98%)",
                            "label": "128"
                        }
                    ]
                }
            }
        ],
        "orderHint": 0,
        "instanceId": "c15b45-YOUR-INSTANCEID-HERE",
        "lastUpdated": "2025-04-08T13:42:03.395483Z",
        "collectionType": "CUSTOM",
        "datasetSourceId": 10,
        "datasourceDefaults": {
            "mosaickingOrder": "mostRecent",
            "temporal": false,
            "collectionId": "ab5ef5-YOUR-INSTANCEID-HERE",
            "type": "CUSTOM"
        }
    }
]